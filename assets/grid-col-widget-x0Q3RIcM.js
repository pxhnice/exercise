import{d as N,l as P,i as V,r as i,o as a,b as l,w as s,f as A,a as p,g as o,t as I,e as d,j as _,c as U,m as j}from"./index-wDcN0h0X.js";import{d as E}from"./container-y5Ot9AJQ.js";const G={class:"ex-widget-container"},H={key:0,class:"ex-widget-operation"},$={class:"ex-title"},q={class:"ex-operation-row"},K=N({__name:"grid-col-widget",props:E,setup(u){const e=u,h=P(e.parentList),w=V(()=>e.designer.selectWidgetId.value==e.widgetData.id),f=()=>{e.designer.setSelectWidget(e.parentData)},D=()=>{e.designer.setSelectWidget(e.widgetData)},k=(t,r)=>{let g=t.newIndex;r.children&&(e.designer.setSelectWidget(r.children[g]),e.designer.emitHistoryChange())},v=()=>{e.designer.moveUpWidget(e.parentList,e.widgetSub)},C=()=>{e.designer.moveDownWidget(e.parentList,e.widgetSub)},y=()=>{e.designer.copyWidget(e.parentList,e.widgetData)},b=()=>{e.designer.deleteWidget(e.parentList,e.widgetSub)};return(t,r)=>{const g=i("form-item-widget"),x=i("draggable"),S=i("ex-icon-arrow-left"),c=i("el-icon"),W=i("ex-icon-move-up"),L=i("ex-icon-shift-down"),z=i("ex-icon-copy"),B=i("ex-icon-delete"),M=i("el-col");return a(),l(M,j({class:["ex-widget-grid_col",{"ex-is-drag":w.value}]},t.widgetData.options,{onClick:d(D,["stop"])}),{default:s(()=>[o(x,{group:"componentsGroup","ghost-class":"ex-ghost",handle:".drag-mover",class:"container-draggable",list:t.widgetData.children,"item-key":"id",animation:300,onAdd:r[0]||(r[0]=n=>k(n,t.widgetData))},{item:s(({element:n,index:m})=>[p("div",G,[n.category==="container"?(a(),l(A(`${n.type}-widget`),{"widget-data":n,designer:t.designer,"parent-data":t.widgetData,"parent-list":t.widgetData.children,"widget-sub":m,key:n.id},null,8,["widget-data","designer","parent-data","parent-list","widget-sub"])):(a(),l(g,{designer:t.designer,"widget-data":n,"parent-data":t.widgetData,"parent-list":t.widgetData.children,"widget-sub":m,key:n.id},null,8,["designer","widget-data","parent-data","parent-list","widget-sub"]))])]),_:1},8,["list"]),w.value?(a(),U("div",H,[p("div",$,I(t.widgetData.name),1),p("div",q,[o(c,{title:"选中父组件",class:"ex-mgr-10",onClick:d(f,["stop"]),size:16},{default:s(()=>[o(S)]),_:1}),t.widgetSub!=0?(a(),l(c,{key:0,title:"上移",class:"ex-mgr-10",onClick:d(v,["stop"]),size:16},{default:s(()=>[o(W)]),_:1})):_("",!0),t.widgetSub<h.value.length-1?(a(),l(c,{key:1,title:"下移",class:"ex-mgr-10",onClick:d(C,["stop"]),size:16},{default:s(()=>[o(L)]),_:1})):_("",!0),o(c,{title:"复制",class:"ex-mgr-10",onClick:d(y,["stop"]),size:16},{default:s(()=>[o(z)]),_:1}),o(c,{title:"删除",class:"ex-mgr-10",onClick:d(b,["stop"]),size:18},{default:s(()=>[o(B)]),_:1})])])):_("",!0)]),_:1},16,["class"])}}});export{K as default};
