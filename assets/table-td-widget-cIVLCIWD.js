import{d as O,i as d,r,o as w,c as D,g as t,w as o,f as Q,b as h,a as p,t as X,e as n,s as a,j as Y,m as Z}from"./index-wDcN0h0X.js";import{d as ee}from"./container-y5Ot9AJQ.js";const te={class:"ex-widget-td_content"},ie={key:0},oe={class:"ex-title"},ne={class:"ex-operation-row"},se={class:"ex-widget-td_buttons"},le=O({__name:"table-td-widget",props:ee,setup(R){const e=R,_=d(()=>e.designer.selectWidgetId.value==e.widgetData.id),L=(i,g)=>{let u=i.newIndex;g.children&&(e.designer.setSelectWidget(g.children[u]),e.designer.emitHistoryChange())},v=()=>{e.designer.setSelectWidget(e.widgetData)},S=()=>{e.designer.setSelectWidget(e.parentData)},x=d(()=>e.widgetSub<=0||e.colList[e.widgetSub-1].options.rowspan!==e.widgetData.options.rowspan),y=d(()=>{let i=e.widgetSub+e.widgetData.options.colspan;return e.widgetSub>=e.colLength-1||i>e.colLength-1||e.colList[i].options.rowspan!==e.widgetData.options.rowspan}),M=d(()=>e.widgetRow<=0||e.parentList[e.widgetRow-1].children[e.widgetSub].options.colspan!==e.widgetData.options.colspan),E=d(()=>{let i=e.widgetRow+e.widgetData.options.rowspan;return e.widgetRow>=e.rowLength-1||i>e.rowLength-1||e.parentList[i].children[e.widgetSub].options.colspan!==e.widgetData.options.colspan}),b=d(()=>e.colLength<=1||e.colLength===e.widgetData.options.colspan),m=d(()=>e.rowLength<=1||e.rowLength===e.widgetData.options.rowspan),B=d(()=>{let{rowspan:i}=e.widgetData.options;return i==1}),I=d(()=>{let{colspan:i}=e.widgetData.options;return i==1}),N=()=>{e.designer.insertCell(e.parentList,e.widgetSub,"right")},U=()=>{e.designer.insertCell(e.parentList,e.widgetSub,"left")},V=()=>{e.designer.insertRow(e.parentList,e.widgetRow,"up")},W=()=>{e.designer.insertRow(e.parentList,e.widgetRow,"down")},P=()=>{e.designer.mergeRightCell(e.parentList,e.widgetData,e.widgetRow,e.widgetSub)},z=()=>{e.designer.mergeLeftCell(e.parentList,e.widgetData,e.widgetRow)},A=()=>{e.designer.mergeUpCell(e.parentList,e.widgetData,e.widgetRow,e.widgetSub)},j=()=>{e.designer.mergeDownCell(e.parentList,e.widgetData,e.widgetRow,e.widgetSub)},G=()=>{e.designer.mergeEntireRow(e.parentList,e.widgetRow)},H=()=>{e.designer.mergeEntireCol(e.parentList,e.widgetSub)},C=()=>{e.designer.revocationMerge(e.parentList,e.widgetData,e.widgetRow,e.widgetSub)},T=()=>{e.designer.deleteEntireRow(e.parentList,e.widgetRow)},$=()=>{e.designer.deleteEntireCol(e.parentList,e.widgetRow)};return(i,g)=>{const u=r("form-item-widget"),q=r("draggable"),F=r("ex-icon-arrow-left"),k=r("el-icon"),J=r("ex-icon-all"),s=r("el-button"),c=r("el-divider"),K=r("el-tooltip");return w(),D("td",Z({class:["ex-widget-td",{"ex-is-drag":_.value}]},i.widgetData.options,{onClick:n(v,["stop"])}),[t(q,{group:"componentsGroup","ghost-class":"ex-ghost",handle:".drag-mover",class:"container-draggable",list:i.widgetData.children,"item-key":"id",animation:300,onAdd:g[0]||(g[0]=l=>L(l,i.widgetData))},{item:o(({element:l,index:f})=>[p("div",te,[l.category==="container"?(w(),h(Q(`${l.type}-widget`),{designer:i.designer,"widget-data":l,"parent-data":i.widgetData,"parent-list":i.widgetData.children,"widget-sub":f,key:l.id},null,8,["designer","widget-data","parent-data","parent-list","widget-sub"])):(w(),h(u,{designer:i.designer,"widget-data":l,"parent-data":i.widgetData,"parent-list":i.widgetData.children,"widget-sub":f,key:l.id},null,8,["designer","widget-data","parent-data","parent-list","widget-sub"]))])]),_:1},8,["list"]),_.value?(w(),D("div",ie,[p("div",oe,X(i.widgetData.name),1),p("div",ne,[t(k,{title:"选中父组件",class:"ex-mgr-10",onClick:n(S,["stop"]),size:16},{default:o(()=>[t(F)]),_:1}),t(K,{effect:"light",placement:"bottom",trigger:"click"},{content:o(()=>[p("div",se,[t(s,{link:"",onClick:n(U,["stop"])},{default:o(()=>[a(" 插入左列 ")]),_:1}),t(s,{link:"",onClick:n(N,["stop"])},{default:o(()=>[a(" 插入右列 ")]),_:1}),t(s,{link:"",onClick:n(V,["stop"])},{default:o(()=>[a(" 插入上行 ")]),_:1}),t(s,{link:"",onClick:n(W,["stop"])},{default:o(()=>[a(" 插入下行 ")]),_:1}),t(c),t(s,{link:"",disabled:x.value,onClick:n(z,["stop"])},{default:o(()=>[a(" 合并左侧单元格 ")]),_:1},8,["disabled"]),t(s,{link:"",disabled:y.value,onClick:n(P,["stop"])},{default:o(()=>[a(" 合并右侧单元格 ")]),_:1},8,["disabled"]),t(s,{link:"",disabled:m.value,onClick:n(G,["stop"])},{default:o(()=>[a(" 合并整行 ")]),_:1},8,["disabled"]),t(c),t(s,{link:"",disabled:M.value,onClick:n(A,["stop"])},{default:o(()=>[a(" 合并上单元格 ")]),_:1},8,["disabled"]),t(s,{link:"",disabled:E.value,onClick:n(j,["stop"])},{default:o(()=>[a(" 合并下单元格 ")]),_:1},8,["disabled"]),t(s,{link:"",disabled:b.value,onClick:n(H,["stop"])},{default:o(()=>[a(" 合并整列 ")]),_:1},8,["disabled"]),t(c),t(s,{link:"",disabled:B.value,onClick:n(C,["stop"])},{default:o(()=>[a(" 撤销列合并 ")]),_:1},8,["disabled"]),t(s,{link:"",disabled:I.value,onClick:n(C,["stop"])},{default:o(()=>[a(" 撤销行合并 ")]),_:1},8,["disabled"]),t(c),t(s,{link:"",disabled:b.value,onClick:n($,["stop"])},{default:o(()=>[a(" 删除整列 ")]),_:1},8,["disabled"]),t(s,{link:"",disabled:m.value,onClick:n(T,["stop"])},{default:o(()=>[a(" 删除整行 ")]),_:1},8,["disabled"])])]),default:o(()=>[t(k,{title:"单元格操作",class:"ex-mgr-10",onClick:g[1]||(g[1]=n(()=>{},["stop"])),size:16},{default:o(()=>[t(J)]),_:1})]),_:1})])])):Y("",!0)],16)}}});export{le as default};
