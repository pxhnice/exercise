import{d as B,l as g,i as I,r as s,o as O,c as P,g as l,w as n,s as u,a as V,e as h,z as S}from"./index-wDcN0h0X.js";import{d as j}from"./property-6606s0ZR.js";const E={class:"ex-property-cascader"},J={class:"ex-property-col"},W=B({__name:"cascader-options-edit",props:j,setup(x){const C=x,f=g(!1),r=g(!1),v=g(""),p=I({get:()=>C.optionsModel.options,set:t=>t}),k=()=>{console.log(p.value)},b=t=>{let{value:e,children:o}=t.data,d=o.length+1,i=e+"-"+d;o.push({value:i,label:"new option"+i,children:[]})},w=()=>{let t=p.value.length+1;p.value.push({value:t,label:"new option",children:[]})},N=(t,e)=>{const o=t.parent,d=o.data.children||o.data,i=d.findIndex(_=>_.value===e.value);if(e.children.length>0){S("该节点还存在子节点，无法删除");return}d.splice(i,1)},U=()=>{const t=JSON.stringify(p.value,null,4);v.value=t,r.value=!0},z=()=>{let t=JSON.parse(v.value);p.value=t,r.value=!1};return(t,e)=>{const o=s("el-button"),d=s("el-form-item"),i=s("el-alert"),_=s("el-input"),M=s("el-tree"),$=s("el-scrollbar"),y=s("el-dialog"),A=s("ex-code-editor");return O(),P("div",E,[l(d,{label:"级联选项设置"},{default:n(()=>[l(o,{onClick:e[0]||(e[0]=a=>f.value=!0),type:"primary",icon:"Edit",round:""},{default:n(()=>[u(" 选项设置 ")]),_:1})]),_:1}),l(y,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=a=>f.value=a),title:"级联选项设置",width:"600"},{footer:n(()=>[V("span",null,[l(o,{onClick:w,size:"default",type:"primary"},{default:n(()=>[u(" 添加选项 ")]),_:1}),l(o,{onClick:U,size:"default",type:"primary"},{default:n(()=>[u(" 导入选项 ")]),_:1}),l(o,{onClick:e[1]||(e[1]=a=>f.value=!1),size:"default"},{default:n(()=>[u("取消")]),_:1})])]),default:n(()=>[l(i,{"show-icon":"",closable:!1,title:"删除选项时，因将value作为id使用，在编辑时请确保value值的唯一性",type:"info"}),l($,{height:"400px"},{default:n(()=>[l(M,{data:t.optionsModel.options,onNodeClick:k,draggable:""},{default:n(({node:a,data:c})=>[V("div",J,[l(_,{class:"ex-property-col_put",modelValue:c.value,"onUpdate:modelValue":m=>c.value=m},null,8,["modelValue","onUpdate:modelValue"]),l(_,{class:"ex-property-col_put ex-mgl-10",modelValue:c.label,"onUpdate:modelValue":m=>c.label=m},null,8,["modelValue","onUpdate:modelValue"]),l(o,{onClick:h(m=>b(a),["stop"]),class:"ex-mgl-10",icon:"Plus",type:"primary",plain:"",circle:""},null,8,["onClick"]),l(o,{onClick:h(m=>N(a,c),["stop"]),class:"ex-mgl-10",icon:"Minus",type:"danger",plain:"",circle:""},null,8,["onClick"])])]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"]),l(y,{modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=a=>r.value=a),width:"600",title:"组件事件编辑","destroy-on-close":"","close-on-click-modal":!1},{footer:n(()=>[V("span",null,[l(o,{onClick:z,size:"default",type:"primary"},{default:n(()=>[u(" 确认 ")]),_:1}),l(o,{onClick:e[4]||(e[4]=a=>r.value=!1),size:"default"},{default:n(()=>[u("取消")]),_:1})])]),default:n(()=>[l(A,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=a=>v.value=a),height:500,lang:"json"},null,8,["modelValue"])]),_:1},8,["modelValue"])])}}});export{W as default};
